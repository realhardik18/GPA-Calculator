<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPA Calculator</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #333;
            color: white;
        }
        .card {
            background-color: #444;
            color: white;
        }
        .btn-primary {
            background-color: #ffcc00;
            border: none;
        }
        .btn-primary:hover {
            background-color: #e6b800;
        }
        .btn-danger {
            background-color: #dc3545;
        }
        .table-dark th, .table-dark td {
            color: white;
        }
        .navbar {
            background-color: #222;
        }
        .navbar-brand, .navbar-text {
            color: white;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <span class="navbar-brand">GPA Calculator</span>
            <a href="https://github.com/realhardik18/GPA-Calculator"><span class="navbar-text ms-auto">Made by Realhardik18</span></a>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row">
            <!-- Subjects Table -->
            <div class="col-md-8">
                <h2>Subjects</h2>
                <table class="table table-dark table-bordered">
                    <thead>
                        <tr>
                            <th>Subject Name</th>
                            <th>Grade</th>
                            <th>Credit Points</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="subject-table">
                        <!-- Rows will be added dynamically -->
                    </tbody>
                </table>
                <button id="add-subject" class="btn btn-primary">Add Subject</button>
            </div>
            
            <!-- GPA Card -->
            <div class="col-md-4">
                <div class="card p-4">
                    <h3 class="text-center">Your GPA</h3>
                    <h1 class="text-center" id="gpa-result">0.00</h1>
                    <hr>
                    <p class="text-center">
                        <strong>Total Credits:</strong> <span id="total-credits-card">0</span>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const gradePoints = { 'S': 10, 'A': 9, 'B': 8, 'C': 7, 'D': 6, 'E': 5, 'F': 0 };
        const subjectTable = document.getElementById('subject-table');
        const gpaResult = document.getElementById('gpa-result');
        const totalCreditsCard = document.getElementById('total-credits-card');

        // Add a new subject row
        document.getElementById('add-subject').addEventListener('click', () => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><input type="text" class="form-control" placeholder="Subject Name"></td>
                <td>
                    <select class="form-select">
                        <option selected disabled>Grade</option>
                        <option value="S">S</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                    </select>
                </td>
                <td><input type="number" class="form-control" placeholder="Credit Points" min="1" step="1"></td>
                <td><button class="btn btn-danger remove-subject">Remove</button></td>
            `;
            subjectTable.appendChild(row);

            // Attach event listeners
            row.querySelector('.remove-subject').addEventListener('click', () => {
                row.remove();
                updateGPA();
            });
            row.querySelectorAll('input, select').forEach(input => {
                input.addEventListener('input', updateGPA);
            });
        });

        // Update GPA and Total Credits
        function updateGPA() {
            const rows = subjectTable.querySelectorAll('tr');
            let totalGradePoints = 0;
            let totalCreditPoints = 0;

            rows.forEach(row => {
                const grade = row.querySelector('select').value;
                const creditPoints = parseInt(row.querySelector('input[type="number"]').value);

                if (grade && gradePoints[grade] !== undefined && !isNaN(creditPoints)) {
                    totalGradePoints += gradePoints[grade] * creditPoints;
                    totalCreditPoints += creditPoints;
                }
            });

            // Update values in the GPA card
            gpaResult.textContent = totalCreditPoints > 0 ? (totalGradePoints / totalCreditPoints).toFixed(2) : '-';
            totalCreditsCard.textContent = totalCreditPoints;
        }
    </script>
</body>
</html>
